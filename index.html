<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minecraft Store</title>
  <link rel="stylesheet" href="/template/styles/main.css">
</head>
<body>
  <div class="background-image"></div>
  <div class="background-overlay"></div>
  
  <div id="app">
    <div class="top-corner-buttons">
      <button class="discord-button glass-card" id="discordButton">
        <span class="discord-icon">ğŸ’¬</span>
        <span class="discord-count" id="discordCount">...</span>
      </button>
      <button class="login-button glass-card" id="loginButton">
        <span class="login-icon">ğŸ‘¤</span>
        <span class="login-text" id="loginText">Login</span>
      </button>
    </div>

    <header class="main-header">
      <div class="logo-container">
        <div class="logo-glow">
          <img src="/template/assets/logo.png" alt="Store Logo" class="store-logo" id="storeLogo" onerror="this.style.display='none';this.nextElementSibling.style.display='flex'">
          <div class="store-logo-text" style="display: none;">
            <span class="logo-icon">â›ï¸</span>
            <h1 id="storeName">MC STORE</h1>
          </div>
        </div>
      </div>
      
      <div class="server-info glass-card">
        <div class="server-status">
          <span class="status-dot" id="statusDot"></span>
          <span class="status-text" id="serverIp">Loading...</span>
          <span class="player-count" id="playerCount" style="margin-left: 1rem; color: var(--lime-primary); font-weight: 600;"></span>
        </div>
        <button class="cart-button" id="cartButton">
          <span class="cart-icon">ğŸ›’</span>
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </header>

    <main class="container">
      <div id="loadingState" class="loading-state">
        <div class="spinner"></div>
        <p>Loading packages...</p>
      </div>

      <div id="errorState" class="error-state" style="display: none;">
        <p>Failed to load packages. Please check your API configuration.</p>
      </div>

      <button id="backToCategoriesBtn" class="back-button glass-card" style="display: none;">
        â† Back to Categories
      </button>

      <div id="categoriesContainer" class="packages-container"></div>

      <div class="extra-sections">
        <div class="top-customer-section glass-card">
          <div class="section-header">
            <span class="section-icon">ğŸ‘‘</span>
            <h3>Top Customer daily</h3>
          </div>
          <div id="topCustomerContent" class="top-customer-content">
            <div class="customer-item">
              <img src="https://minotar.net/avatar/steve/64" alt="Customer" class="customer-avatar">
              <div class="customer-info">
                <span class="customer-name">Loading...</span>
                <span class="customer-amount">$0.00 USD</span>
              </div>
            </div>
          </div>
        </div>

        <div class="giftcard-section glass-card">
          <div class="section-header">
            <span class="section-icon">ğŸ</span>
            <h3>Giftcard Balance</h3>
          </div>
          <div class="giftcard-content">
            <input type="text" id="giftcardInput" class="giftcard-input" placeholder="Enter gift card code">
            <button id="checkGiftcardBtn" class="check-btn">Check</button>
          </div>
          <div id="giftcardResult" class="giftcard-result" style="display: none;"></div>
        </div>
      </div>

      <footer class="store-footer">
        <div class="footer-notice glass-card">
          <p><strong>ğŸ‰ Welcome To The Only Official mcFleet Store!</strong></p>
          <p>After you have made a purchase here, your coins will automatically be deposited into your in-game account. If your coins have not been added, please check your purchase history to see if the transaction was completed. If you're still experiencing issues, please contact our support team.</p>
        </div>
        
        <div class="footer-links">
          <a href="#" class="footer-link">Terms of Service</a>
          <a href="#" class="footer-link">Refund Policy</a>
          <a href="#" class="footer-link">Support</a>
        </div>
        
        <div class="payment-methods">
          <span>Secure payments powered by</span>
          <strong>Tebex</strong>
        </div>
      </footer>
    </main>

    <div id="cartModal" class="modal" style="display: none;">
      <div class="modal-content glass-card">
        <div class="modal-header">
          <h2>Shopping Cart</h2>
          <button class="close-button" id="closeCart">&times;</button>
        </div>
        <div id="cartItems" class="cart-items"></div>
        <div class="cart-footer">
          <div class="cart-total">
            <span>Total:</span>
            <span id="cartTotal">$0.00</span>
          </div>
          <button class="checkout-button" id="checkoutButton">Proceed to Checkout</button>
        </div>
      </div>
    </div>

    <div id="usernameModal" class="modal" style="display: none;">
      <div class="modal-content glass-card username-modal">
        <div class="modal-header">
          <h2>Enter Minecraft Username</h2>
          <button class="close-button" id="closeUsernameModal">&times;</button>
        </div>
        <div class="username-modal-body">
          <p>Please enter your Minecraft username to complete your purchase:</p>
          <input type="text" id="usernameInput" class="username-input" placeholder="Your Minecraft username" autocomplete="off">
          <div class="username-actions">
            <button class="username-cancel-btn" id="usernameCancelBtn">Cancel</button>
            <button class="username-submit-btn" id="usernameSubmitBtn">Continue</button>
          </div>
        </div>
      </div>
    </div>

    <div id="loginModal" class="modal" style="display: none;">
      <div class="modal-content glass-card login-modal">
        <div class="modal-header">
          <h2>Login to Your Account</h2>
          <button class="close-button" id="closeLoginModal">&times;</button>
        </div>
        <div class="login-modal-body">
          <p>Login with your email to access your purchase history and saved information:</p>
          <input type="email" id="loginEmailInput" class="login-input" placeholder="Email address" autocomplete="email">
          <div class="login-actions">
            <button class="login-cancel-btn" id="loginCancelBtn">Cancel</button>
            <button class="login-submit-btn" id="loginSubmitBtn">Login</button>
          </div>
          <p class="login-note">Your login will be saved for future purchases</p>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/template/scripts/main.js"></script>
</body>
</html>
